<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyCBT Dashboard - Test Setup</title>
    <link rel="icon" href="images/fav.jpeg" type="image/x-icon">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo">MyCBT</div>
            <div class="user-info">
                <span id="user-name">Welcome, User</span>
                <script>
                    (function() {
                        const username = localStorage.getItem('username');
                        if (username) {
                            document.getElementById('user-name').textContent = 'Welcome, ' + username;
                        }
                    })();
                </script>
                <button onclick="logout()">Logout</button>
            </div>
        </nav>
    </header>

    <main class="dashboard">
        <div class="container">
            <h1>Test Setup</h1>
            <div class="setup-form">
                <h2>Configure Your Exam</h2>
                <form id="test-setup-form" onsubmit="startExam(event)">
                    <div class="form-group">
                        <label for="exam-type">Select Exam Type:</label>
                        <select id="exam-type" required>
                            <option value="">Choose Exam Type</option>
                            <option value="NECO">NECO</option>
                            <option value="WAEC">WAEC</option>
                            <option value="JAMB">JAMB</option>
                            <option value="NABTEB">NABTEB</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="subject">Select Subject:</label>
                        <select id="subject" required>
                            <option value="">Choose Subject</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="test-duration">Test Duration (minutes):</label>
                        <select id="test-duration" required>
                            <option value="">Select Duration</option>
                            <option value="30">30 minutes</option>
                            <option value="45">45 minutes</option>
                            <option value="60">1 hour</option>
                            <option value="90">1.5 hours</option>
                            <option value="120">2 hours</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="question-count">Number of Questions:</label>
                        <select id="question-count" required>
                            <option value="">Select Questions</option>
                            <option value="10">10 Questions</option>
                            <option value="20">20 Questions</option>
                            <option value="30">30 Questions</option>
                            <option value="40">40 Questions</option>
                            <option value="50">50 Questions</option>
                        </select>
                    </div>

                    <button type="submit" class="start-btn">Start Exam</button>
                </form>
            </div>

            <!-- <div class="previous-results">
                <h2>Previous Test Results</h2>
                <div id="results-list">
                    <p>No previous results found. Take your first test!</p>
                </div>
            </div> -->
        </div>
    </main>

    <script src="js/custom-alert.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/dashboard.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            loadUserInfo();
            loadSubjects();
            loadPreviousResults();
        });
    </script>
</body>
</html>